<!-- markdownlint-disable no-inline-html -->

# Dependency License Collector

[![Test](https://github.com/sgryjp/dependency-license-collector/actions/workflows/ci.yaml/badge.svg)](https://github.com/sgryjp/dependency-license-collector/actions/workflows/ci.yaml)
[![Coverage Status](https://coveralls.io/repos/github/sgryjp/dependency-license-collector/badge.svg?branch=ci/use-coveralls)](https://coveralls.io/github/sgryjp/dependency-license-collector?branch=ci/use-coveralls)

> A tool for collecting dependency licenses in software projects.

## Features

1. Collect license information of dependency packages for a software project.

   - Supported project types are:
     - Python project using [pip], [Pipenv], [Poetry], or [uv]
     - Node.js: (Planning)
     - Rust: (Planning)

2. Generate a simple HTML report.

   - [Example report](https://sgryjp.github.io/dependency-license-collector/)
     generated by running DLC to itself.

3. Download license text as files.

## Command Usage

```text
Usage: dlc [OPTIONS] FILENAME

  A tool for collecting dependency licenses in software projects.

  DLC (Dependency License Collector) collects dependency packages' license
  data, download license file content, and generate an HTML report.

  Use a special value "-" as FILENAME to read data from standard input.

  For Python, a subset of "requirements.txt" is supported. Strictly writing,
  only the dependency specifier using `==` is supported. Note that majority of
  project management tools such as Pipenv, Poetry, and uv supports exporting
  list of dependencies in this format.

Options:
  -f, --format [requirements_txt]
                                  Input data format.  [required]
  --target-name NAME              Name of the target software project. This
                                  will be used in the report.
  -o, --outdir DIRECTORY          Directory to store generated report files.
  -v, --verbose                   Log more verbose message.
  -q, --quiet                     Log less verbose message.
  --help                          Show this message and exit.
```

## Configurations (Environment Variables)

These environment variables are supported:

- `GITHUB_TOKEN`
  - GitHub personal token for API access.
- `DLC_MAX_WORKERS`
  - Number of worker threads to use.
    If omitted it will be the number of CPUs.

> [!TIP]
> This command can read environment variables from `.env` file at the current directory.

## Example Usage (Python)

- [uv]

  ```sh
  uv export --no-hashes | dlc -f requirements_txt -
  ```

- [Poetry] (with poetry-plugin-export)

  ```sh
  poetry export --without-hashes | dlc -f requirements_txt -
  ```

- [Pipenv]

  ```sh
  pipenv requirements | dlc -f requirements_txt -
  ```

- [pip]

  ```sh
  pip freeze | dlc -f requirements_txt -
  ```

[pip]: https://pip.pypa.io/
[Pipenv]: https://pipenv.pypa.io/en/latest/
[Poetry]: https://python-poetry.org/
[uv]: https://docs.astral.sh/uv/
